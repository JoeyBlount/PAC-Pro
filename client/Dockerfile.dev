# PAC-Pro/client/Dockerfile.dev  (FRONTEND DEV)
FROM node:22-alpine
WORKDIR /web

# Install deps first for caching; if you use pnpm/yarn, adjust accordingly
COPY package.json package-lock.json* ./
RUN npm ci || npm install

# Copy the rest
COPY . .

# Default to Vite dev on 5173; override in docker-compose if you use CRA
ENV HOST=0.0.0.0
EXPOSE 5173 3000
CMD ["sh", "-c", "if npm run | grep -q \" dev\"; then npm run dev -- --host 0.0.0.0 --port 5173; else npm start; fi"]
